{% extends 'base.html' %}

{% block title %} Main {% endblock %}

{% block css %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/tballom_name.css' %}">
{% endblock %}

{% block js %}
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let pointDiv = document.querySelector('.point');
            pointDiv.style.display = 'none';

            document.addEventListener('click', function(event) {
                if (!event.target.closest('.nav-item')) {
                    playBackgroundMusic();
                    document.removeEventListener('click', playBackgroundMusic);
                }
            });

            function playBackgroundMusic() {
                let bgMusic = document.getElementById('bgMusic');
                bgMusic.play();

                document.addEventListener('visibilitychange', function() {
                    if (document.visibilityState === 'hidden') {
                        bgMusic.pause();
                    } else {
                        bgMusic.play();
                    }
                });
            }

            // 버튼 클릭 시
            let nameInput = document.getElementById('nameInput').value;
            if (nameInput.value === '') {
                let navItems = document.querySelectorAll('.nav-item p');
                navItems.forEach(function(item) {
                    item.addEventListener('click', function() {
                        alert('이름을 입력해주세요');
                    });
                });
            } else {
                movePage();
            }
        });
    </script>
{% endblock %}

{% block content %}
    <audio id="bgMusic" src="{% static 'music/치고 달려라.mp3' %}" loop></audio>
    <div class="name-container">
        <div class="title"> <p>사용할 이름을 입력해주세요 :></p> </div>
        <Input id="nameInput" placeholder="이름 입력" />
    </div>
{% endblock %}